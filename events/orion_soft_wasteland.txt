namespace = soft_wasteland

country_event = { 
	id = soft_wasteland.1
	title = "soft_wasteland.1.t"
	desc = "soft_wasteland.1.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_placed }
	}

	option = {
		name = "soft_wasteland.1.a" 
		every_province = {
			limit = { 
				OR = {
					colonial_region = colonial_cape 
					area = central_chile_area
					area = northern_chile_area
					area = peruan_coast
					colonial_region = colonial_paraguay
					colonial_region = colonial_vincente
					colonial_region = colonial_uruguay
					colonial_region = colonial_riogrande
					province_id = 763
					province_id = 760
					province_id = 756
					province_id = 755
					province_id = 749
					region = west_siberia_region
					area = limpopo_area 
					area = quelimane_area
					AND = {
						is_empty = yes 
						OR = {
							region = moluccas_region 
							region = indonesia_region 
							region = malaya_region 
						}
					}
				}
				NOT = { 
					OR = {	
						area = southern_chile_area
					}
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_1"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				colonial_region = colonial_guyana
				colonial_region = colonial_brazil
				colonial_region = colonial_amazonis
				AND = {
					region = california_region
					has_climate = arid
				}
				AND = { 
					is_empty = yes 
					OR = {	
						region = australia_region
						region = new_zealand_region
						region = oceanea_region
						region = horn_of_africa_region
						region = egypt_region
						area = lowveld_area
						area = transvaal_area
						area = highveld_area
						area = bt_natal_area
						area = xhosa_area
						region = arabia_region
						province_id = 1118
						province_id = 1174
						province_id = 5426
						province_id = 1167
						province_id = 1141
						region = east_siberia_region
					}
				}
				NOT = { 
					OR = {	
						area = northern_polynesia_area
						area = papua_area
					}
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_2"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					area = southern_chile_area
					area = patagonia_area
					area = southern_pampas_area
					area = patagonian_andes
					area = bahia_blanca_area
					area = cuyo_area
					area = nehuenken_area
					AND = {
						continent = north_america
						has_climate = arctic
					}
					AND = { 
						is_empty = yes 
						OR = {
							region = east_africa_region
							region = guinea_region
							region = kongo_region 
							region = sahel_region
							region = niger_region
							region = central_africa_region
							area = papua_area
							AND = {
								region = south_africa_region
								NOT = { 
									OR = {
										colonial_region = colonial_cape 
										province_id = 1174
										province_id = 5426
										area = bt_natal_area
										area = limpopo_area
										area = xhosa_area
										area = lowveld_area
										area = transvaal_area
										area = highveld_area
									}
								}
							}
						}
					}
				}
				NOT = {
					OR = {
						province_id = 1167
						province_id = 1097
						province_id = 1306
						province_id = 1141
						province_id = 1139
						province_id = 2258
						province_id = 1118
						province_id = 1111
						province_id = 1096
						province_id = 1183
						province_id = 4020
						province_id = 1100
						province_id = 1102
						province_id = 1103
					}
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_3"
				duration = -1
			}
		}
		set_global_tag = soft_wasteland_placed
	}
}

country_event = { 
	id = soft_wasteland.2
	title = "soft_wasteland.2.t"
	desc = "soft_wasteland.2.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_II_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_1 
		}
		current_age = age_of_reformation
	}
	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_reformation
		}
	}
	option = {
		name = "soft_wasteland.2.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_1 }
			remove_province_modifier = soft_wasteland_1
		}
		set_global_tag = soft_wasteland_II_removed
	}
}

country_event = { 
	id = soft_wasteland.3
	title = "soft_wasteland.3.t"
	desc = "soft_wasteland.3.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_III_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_2
		}
		current_age = age_of_absolutism
	}

	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_absolutism
		}
	}
	option = {
		name = "soft_wasteland.3.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_2 }
			remove_province_modifier = soft_wasteland_2
		}
		set_global_tag = soft_wasteland_III_removed
	}
}

country_event = { 
	id = soft_wasteland.4
	title = "soft_wasteland.4.t"
	desc = "soft_wasteland.4.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
#	is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_IV_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_3
		}
		current_age = age_of_revolutions
	}
	
	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_revolutions
		}
	}

	option = {
		name = "soft_wasteland.4.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_3 }
			remove_province_modifier = soft_wasteland_3
		}
		set_global_tag = soft_wasteland_IV_removed
	}
}

country_event = { 
	id = soft_wasteland.5
	title = "soft_wasteland.5.t"
	desc = "soft_wasteland.5.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	#fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		has_global_flag = soft_wasteland_placed
		any_province = { 
			OR = {
				has_province_modifier = soft_wasteland_1
				has_province_modifier = soft_wasteland_2
				has_province_modifier = soft_wasteland_3
			}
			OR = {
				AND = {
					is_city = yes
					owner = {
						OR = {
							technology_group = western
							technology_group = eastern
							technology_group = ottoman
						}
					}
				}
				AND = {
					OR = {
						continent = north_america
						continent = south_america
					}
					OR = {
						has_province_modifier = important_natural_harbor
						has_province_modifier = center_of_trade
						has_province_modifier = inland_center_of_trade
						has_province_modifier = has_river_estuary_trigger
				}
			}
		}
	}

	option = {
		name = "soft_wasteland.5.a" 
		every_subject_country = {
			limit = { overlord = { capital_scope = { continent = europe } is_colonial_nation_of = ROOT }
			every_owned_province = {
				limit = {
					is_city = yes
					OR = { 
						has_province_modifier = soft_wasteland_1
						has_province_modifier = soft_wasteland_2 
						has_province_modifier = soft_wasteland_3 
					}
				}
				remove_province_modifier = soft_wasteland_1
				remove_province_modifier = soft_wasteland_2
				remove_province_modifier = soft_wasteland_3
			}
		}
		every_owned_province = {
			limit = {
				is_city = yes
				OR = { 
					has_province_modifier = soft_wasteland_1
					has_province_modifier = soft_wasteland_2 
					has_province_modifier = soft_wasteland_3 
				}
			}
			remove_province_modifier = soft_wasteland_1
			remove_province_modifier = soft_wasteland_2
			remove_province_modifier = soft_wasteland_3
		}
	}
}


