namespace = soft_wasteland

country_event = { 
	id = soft_wasteland.1
	title = "soft_wasteland.1.t"
	desc = "soft_wasteland.1.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_placed }
	}

	option = {
		name = "soft_wasteland.1.a" 
		every_province = {
			limit = { 
				OR = {
					colonial_region = colonial_cape 
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_1"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					colonial_region = colonial_amazonis
					colonial_region = colonial_guyana
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_2"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					area = southern_chile_area
					area = patagonia_area
					area = southern_pampas_area
					area = patagonian_andes
					area = bahia_blanca_area
					area = cuyo_area
					area = nehuenken_area
				}
			}
			add_permanent_province_modifier = {
				name = "soft_wasteland_3"
				duration = -1
			}
		}
		set_global_tag = soft_wasteland_placed
	}
}

country_event = { 
	id = soft_wasteland.2
	title = "soft_wasteland.2.t"
	desc = "soft_wasteland.2.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_II_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_1 
		}
		current_age = age_of_reformation
	}
	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_reformation
		}
	}
	option = {
		name = "soft_wasteland.2.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_1 }
			remove_province_modifier = soft_wasteland_1
		}
		set_global_tag = soft_wasteland_II_removed
	}
}

country_event = { 
	id = soft_wasteland.3
	title = "soft_wasteland.3.t"
	desc = "soft_wasteland.3.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_III_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_2
		}
		current_age = age_of_absolutism
	}

	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_absolutism
		}
	}
	option = {
		name = "soft_wasteland.3.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_2 }
			remove_province_modifier = soft_wasteland_2
		}
		set_global_tag = soft_wasteland_III_removed
	}
}

country_event = { 
	id = soft_wasteland.4
	title = "soft_wasteland.4.t"
	desc = "soft_wasteland.4.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
#	is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = soft_wasteland_IV_removed }
		has_global_flag = soft_wasteland_placed
		any_province = { 
			has_province_modifier = soft_wasteland_3
		}
		current_age = age_of_revolutions
	}
	
	mean_time_to_happen = {
		days = 0 
		modifier = {
			factor = 0.1
			current_age = age_of_revolutions
		}
	}

	option = {
		name = "soft_wasteland.4.a" 
		every_province = {
			limit = { has_province_modifier = soft_wasteland_3 }
			remove_province_modifier = soft_wasteland_3
		}
		set_global_tag = soft_wasteland_IV_removed
	}
}

country_event = { 
	id = soft_wasteland.5
	title = "soft_wasteland.5.t"
	desc = "soft_wasteland.5.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	#fires_only_once = yes
	#is_triggered_only = yes

	trigger = {
		has_global_flag = soft_wasteland_placed
		any_province = { 
			OR = {
				has_province_modifier = soft_wasteland_1
				has_province_modifier = soft_wasteland_2
				has_province_modifier = soft_wasteland_3
			}
			is_city = yes
			owner = {
				OR = {
					technology_group = western
					technology_group = eastern
					technology_group = ottoman
				}
			}
		}
	}

	option = {
		name = "soft_wasteland.5.a" 
		every_subject_country = {
			limit = { overlord = { capital_scope = { continent = europe } is_colonial_nation_of = ROOT }
			every_owned_province = {
				limit = {
					is_city = yes
					OR = { 
						has_province_modifier = soft_wasteland_1
						has_province_modifier = soft_wasteland_2 
						has_province_modifier = soft_wasteland_3 
					}
				}
				remove_province_modifier = soft_wasteland_1
				remove_province_modifier = soft_wasteland_2
				remove_province_modifier = soft_wasteland_3
			}
		}
		every_owned_province = {
			limit = {
				is_city = yes
				OR = { 
					has_province_modifier = soft_wasteland_1
					has_province_modifier = soft_wasteland_2 
					has_province_modifier = soft_wasteland_3 
				}
			}
			remove_province_modifier = soft_wasteland_1
			remove_province_modifier = soft_wasteland_2
			remove_province_modifier = soft_wasteland_3
		}
	}
}

country_event = { 
	id = soft_wasteland.6
	title = "soft_wasteland.6.t"
	desc = "soft_wasteland.6.d"
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	fires_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_global_tag = cot_fixed }
	}

	option = {
		name = "soft_wasteland.6.a" 
		every_province = {
			limit = { 
				OR = {
					province_id = 201	
					province_id = 231
				}
			}
			add_permanent_province_modifier = {
				name = "center_of_trade_modifier"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					province_id = 107
					province_id = 196
				}
			}
			add_permanent_province_modifier = {
				name = "inland_center_of_trade_modifier"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					province_id = 952
					province_id = 2550
					province_id = 953
					province_id = 2554
				}
			}
			add_permanent_province_modifier = {
				name = "chesapeake_bay_modifier"
				duration = -1
			}
		}
		every_province = {
			limit = { 
				OR = {
					province_id = 2547
					province_id = 938
					province_id = 2639
					province_id = 957
					province_id = 962
					province_id = 965
					province_id = 967
					province_id = 938
				}
			}
			add_permanent_province_modifier = {
				name = "important_natural_harbor"
				duration = -1
			}
		}
		set_global_tag = cot_fixed
	}
}

