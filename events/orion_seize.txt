namespace = orion_seize
# Seize events by Amyzonis
# Receive these to notify seizures


country_event = { 
	id = orion_seize.1
	title = "orion_seize.1.t"
	desc = "orion_seize.1.d"
	picture = BATTLE_eventPicture
	
	major = yes
	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = "orion_seize.1.a" 
		ai_chance = { factor = 100 }
		add_prestige = -10
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
    	add_country_modifier = {
			name = "outpost_taken"
			duration = 7300
		} 
	} 
} 

country_event = { 
	id = orion_seize.3
	title = "orion_seize.3.t"
	desc = "orion_seize.3.d"
	picture = FREE_CITY_eventPicture
	
	hidden = yes
	
	
	mean_time_to_happen = { 
		days = 1
		modifier = {
			capital_scope = { NOT = { OR = { controlled_by = ROOT controlled_by = REB } } }
		}	
	}

	trigger = {
		ai_chance = { factor = 100 }
		ai = yes
		capital_scope = { NOT = { OR = { controlled_by = ROOT controlled_by = REB } } }
		is_at_war = yes
		OR = { 
			is_subject_of_type = dominion
			AND = { 
				is_subject = no 
				has_country_flag = possible_dominion
			}
		}
    }
	

	option = {
		name = "orion_seize.1.a"
		capital_scope = { controller = { country_event = { id = orion_seize.4 days = 0 } } }
	}
}

country_event = { 
	id = orion_seize.4
	title = "orion_seize.4.t"
	desc = "orion_seize.4.d"
	picture = FREE_CITY_eventPicture
	
	hidden = yes
	is_triggered_only = yes

	trigger = {
		ai = yes
		any_country = {
			OR = { 
				AND = { 
					NOT = { is_subject_of = ROOT }
					is_subject_of_type = dominion
					capital_scope = { controlled_by = ROOT }
				}
				AND = { 
					is_subject = no 
					has_country_flag = possible_dominion
					capital_scope = { controlled_by = ROOT }
				}
			}
			NOT = { total_development = ROOT }
			any_owned_province = { any_neighbor_province = { owned_by = ROOT } }
		}
    }
	

	option = {
		ai_chance = { factor = 100 }
		name = "orion_seize.1.a"
		create_subject = {
			subject_type = dominion
			subject = FROM
		}
	}
}

country_event = { 
	id = orion_seize.5
	title = "orion_seize.5.t"
	desc = "orion_seize.5.d"
	picture = FREE_CITY_eventPicture
	
	hidden = yes
	
	
	mean_time_to_happen = { 
		days = 1
		modifier = {
			capital_scope = { NOT = { OR = { controlled_by = ROOT controlled_by = REB } } }
		}	
	}

	trigger = {
		ai_chance = { factor = 100 }
		current_age = age_of_discovery
		ai = yes
		if = {
			limit = { is_at_war = yes is_subject_of_type = fief }
			capital_scope = { 
				NOT = { OR = { controlled_by = ROOT controlled_by = REB } } 
				controller = {
					OR = {
						culture_group = ROOT
						is_part_of_hre = yes
						has_ruler_modifier = regent_of_france 
					}
				}
			}
		}
		if = { 
			limit = {
				is_at_war = no
				is_vassal = yes
				is_client_nation = no
				is_lesser_in_union = no
				is_colony = no
				NOT = { is_subject_of_type = fief }
				NOT = { is_subject_of_type = dominion }
				NOT = { is_subject_of_type = tributary_state }
			}
			NOT = { num_of_cities = 9 }
			overlord = { 
				OR = {
					culture_group = ROOT
					is_part_of_hre = yes
					has_ruler_modifier = regent_of_france 
				}
			}
		}
    }
	

	option = {
		name = "orion_seize.5.a"
		if = { 
			limit = { is_at_war = yes is_subject_of_type = fief capital_scope = { NOT = { OR = { controlled_by = ROOT controlled_by = REB } } } }
			capital_scope = { controller = { country_event = { id = orion_seize.6 days = 0 } } }
		}
		if = { 
			limit = { is_at_war = no is_vassal = yes NOT = { num_of_cities = 9 } }
			overlord = { country_event = { id = orion_seize.6 days = 0 } }
		}
	}
}

country_event = { 
	id = orion_seize.6
	title = "orion_seize.6.t"
	desc = "orion_seize.6.d"
	picture = FREE_CITY_eventPicture
	
	hidden = yes
	is_triggered_only = yes

	trigger = {
		ai = yes
		#is_subject = no
		FROM = {
			NOT = { total_development = ROOT }
			any_owned_province = { any_neighbor_province = { owned_by = ROOT } }
			OR = { 
				AND = {
					NOT = { is_subject_of = ROOT }
					is_subject_of_type = fief
					capital_scope = { controlled_by = ROOT }	
					is_at_war = yes
				}
				AND = {
					is_subject_of = ROOT
					is_client_nation = no
					is_lesser_in_union = no
					is_colony = no
					is_at_war = no
					NOT = { is_subject_of_type = fief }
					NOT = { is_subject_of_type = dominion }
					NOT = { is_subject_of_type = tributary_state }
				}
			}	
		}
    }
	

	option = {
		ai_chance = { factor = 100 }
		name = "orion_seize.6.a"
		create_subject = {
			subject_type = fief
			subject = FROM
		}
	}
}
