namespace = IR_mission

#CHOOSE L/R
country_event = {
	id = IR_mission.1
	title = "IR_mission.1.t"
	desc = "IR_mission.1.d"
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes
	
	trigger = { }
	
	#immediate = { }
	
	option = { # LEFT
		name = "IR_mission.1.a" 
		set_country_flag = IR_temp_select_L
		if = { 
			limit = { 
				OR = { 
					tag = POR 
					tag = CAS
					tag = BYZ
					tag = TUR
				}
			}
			trigger_switch = {
				on_trigger = tag
				POR = { country_event = { id = IR_mission.POR days = 0 } }
				CAS = { country_event = { id = IR_mission.CAS days = 0 } }
				BYZ = { country_event = { id = IR_mission.BYZ days = 0 } }
				TUR = { country_event = { id = IR_mission.TUR days = 0 } }
			}
		}
		else = {
			country_event = { id = IR_mission.gen days = 0 }
		}
		
	}
	option = { # RIGHT
		name = "IR_mission.1.b" 
		set_country_flag = IR_temp_select_R
		if = { 
			limit = { 
				OR = { 
					tag = POR 
					tag = CAS
					tag = BYZ
					tag = TUR
				}
			}
			trigger_switch = {
				on_trigger = tag
				POR = { country_event = { id = IR_mission.POR days = 0 } }
				CAS = { country_event = { id = IR_mission.CAS days = 0 } }
				BYZ = { country_event = { id = IR_mission.BYZ days = 0 } }
				TUR = { country_event = { id = IR_mission.TUR days = 0 } }
			}
		}
		else = {
			country_event = { id = IR_mission.gen days = 0 }
		}
	}
	option = {
		name = "setup.exit" 
	}
}

#GENERIC 
country_event = {
	id = IR_mission.gen
	title = "IR_mission.gen.t"
	desc = "IR_mission.gen.desc"
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes
	
	trigger = { always = no } # template
	
	#immediate = { }
	
	option = { # mission A
		name = "IR_mission.gen.a" 
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TAG_missionA_L
					has_country_flag = TAG_missionA_R
					has_country_flag = TAG_missionA_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TAG_missionA_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TAG_missionA_R
			swap_non_generic_missions = yes 
		}
	}
	option = { # mission B
		name = "IR_mission.gen.b" 
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TAG_missionB_L
					has_country_flag = TAG_missionB_R
					has_country_flag = TAG_missionB_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TAG_missionB_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TAG_missionB_R
			swap_non_generic_missions = yes 
		}
	}

	option = {
		name = "setup.back" 
		country_event = { id = IR_mission.1 days = 0 }
	}
	option = {
		name = "setup.exit" 
	}
}


#Ottomans 
country_event = {
	id = IR_mission.TUR
	title = "IR_mission.TUR.t"
	desc = "IR_mission.TUR.desc"
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes
	
	trigger = { tag = TUR }
	
	#immediate = { }
	
	option = { # Rumelian Frontiers
		name = "IR_mission.TUR.1a" 
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TUR_frontier_rumelia_L
					has_country_flag = TUR_frontier_rumelia_R
					has_country_flag = TUR_frontier_rumelia_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TUR_frontier_rumelia_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TUR_frontier_rumelia_R
			swap_non_generic_missions = yes 
		}
	}
	
	option = { # Anatolian Frontiers
		name = "IR_mission.TUR.1b" 
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TUR_frontier_anatolia_L
					has_country_flag = TUR_frontier_anatolia_R
					has_country_flag = TUR_frontier_anatolia_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TUR_frontier_anatolia_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TUR_frontier_anatolia_R
			swap_non_generic_missions = yes 
		}
	}
	
	option = { # Develop Rumelia
		name = "IR_mission.TUR.2a" 
		goto = { 
			OR = {
				province_group = thrace_group
				area = dobruja_area
			}
		}
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TUR_develop_rumelia_L
					has_country_flag = TUR_develop_rumelia_R
					has_country_flag = TUR_develop_rumelia_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TUR_develop_rumelia_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TUR_develop_rumelia_R
			swap_non_generic_missions = yes 
		}
	}
	
	option = { # Develop Greece
		name = "IR_mission.TUR.2b" 
		trigger = { 
			NOT = { 
				OR = {
					has_country_flag = TUR_develop_greece_L
					has_country_flag = TUR_develop_greece_R
					has_country_flag = TUR_develop_greece_completed
				}
			}
		}
		if = {
			limit = { has_country_flag = IR_temp_select_L }
			set_country_flag = TUR_develop_greece_L
			swap_non_generic_missions = yes 
		}
		else_if = {
			limit = { has_country_flag = IR_temp_select_R }
			set_country_flag = TUR_develop_greece_R
			swap_non_generic_missions = yes 
		}
	}

	option = {
		name = "setup.back" 
		country_event = { id = IR_mission.1 days = 0 }
	}
	option = {
		name = "setup.exit" 
	}
}