namespace = IR_development

#Population growth
province_event = { 
	id = IR_development.1
	title = "IR_development.1.t"
	desc = "IR_development.1.d"
	picture = BATTLE_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		#always = no
		province_id = 5125
		has_global_flag = IR_dev_init	
		NOT = { has_province_flag = IR_day_passover }		
		has_active_triggered_province_modifier = IR_development_trigger
	}
	
	#mean_time_to_happen = {
	#	months = 240
	#}
	
	immediate = {
		hidden_effect = {
			every_province = {
				limit = { is_city = yes }
				IR_check_dev_variables = yes
				IR_dev_calc = yes
			}
			#IR_check_good_prices = yes 
			#add_province_triggered_modifier = IR_development_trigger 
			province_event = { id = IR_development.3 days = 365 } 
			set_province_flag = IR_day_passover
			#remove_province_triggered_modifier = IR_development_trigger
		}
	}

	option = {
		name = "setup.exit" 
		ai_chance = { factor = 100 }
		#5125 = { 
			
			
		#}
		#hidden_effect = { 1 = { province_event = { id = IR_development.1 days = 365 } } }
	} 
} 

#TRIGGER FOR YEARLY
province_event = { 
	id = IR_development.2
	title = "IR_development.2.t"
	desc = "IR_development.2.d"
	picture = BATTLE_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		#always = no
		province_id = 5125
		has_global_flag = IR_dev_init
		has_province_flag = IR_day_passover
		has_active_triggered_province_modifier = IR_development_trigger
	}
	
	#mean_time_to_happen = {
	#	months = 240
	#}
	
	immediate = {
		hidden_effect = { 
			#5125 = { 
				clr_province_flag = IR_day_passover
				remove_province_triggered_modifier = IR_development_trigger
			#} 
		}
	}

	option = {
		name = "setup.exit" 
		ai_chance = { factor = 100 }
		
	} 
} 

#ASSIGN TRIGGER INIT
province_event = { 
	id = IR_development.3
	title = "IR_development.3.t"
	desc = "IR_development.3.d"
	picture = BATTLE_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		#always = no
		province_id = 5125
		has_global_flag = IR_dev_init
	}
	
	#mean_time_to_happen = {
	#	months = 240
	#}
	
	immediate = {
		hidden_effect = { 
			#5125 = { 
				add_province_triggered_modifier = IR_development_trigger 
			#} 
		}
	}

	option = {
		name = "setup.exit" 
		ai_chance = { factor = 100 }
		
	} 
} 



province_event = { 
	id = IR_development.4
	title = "IR_development.4.t"
	desc = "IR_development.4.d"
	picture = CITY_DEVELOPMENT_eventPicture
	
	is_triggered_only = yes
	#hidden = yes
	
	trigger = {
		#always = no
		#base_manpower = 5
		#NOT = { OR = { has_province_modifier = is_rural has_building = village has_building = town has_building = city has_building = metropolis } }
	}
	
	

	option = {
		name = "IR_development.4.a" #Rural
		ai_chance = { 
			factor = 100 
		}
		#trigger = { }
		add_permanent_province_modifier = {
			name = is_rural
			duration = -1
		}
	} 
	option = {
		name = "IR_development.4.b" #Urban
		ai_chance = { 
			factor = 100 
			modifier = {
				factor = 0.5
				area_for_scope_province = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } }
			}
		}
		#trigger = { treasury = 100 }
		add_building_construction = {
			building = village
			speed = 1
			cost = 1
		}
	} 
	
	
	after = {
		owner = {
			random_owned_province = {
				limit = { base_manpower = 4 NOT = { OR = { has_province_modifier = is_rural has_building = village has_building = town has_building = city has_building = metropolis } } }
				#add_base_manpower = 1
				province_event = { id = IR_development.4 days = 0 }
			}
		}
	}
	#option = {
	#	name = "IR_development.4.c" #Urban CANNOT AFFORD GREYED OUT
	#	ai_chance = { factor = 0 }
	#	trigger = { NOT = { treasury = 100 } }
	#	province_event = { id = IR_development.4 days = 0 }
	#} 
} 







